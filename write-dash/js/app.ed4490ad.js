(function(t){function e(e){for(var s,i,a=e[0],c=e[1],d=e[2],l=0,f=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/write-dash/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=(n("ba8c"),n("ecee")),r=n("c074"),i=n("ad3d"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.dark?"dark":"",attrs:{id:"app"}},[n("div",{staticClass:"\n      h-screen\n      bg-white\n      dark:bg-gray-800\n      text-gray-800\n      dark:text-gray-100\n      p-4\n      md:p-10\n      flex flex-col\n    "},[n("div",{staticClass:"flex justify-between gap-4 w-full"},[n("p",{staticClass:"p-2 w-1/6 md:block hidden"}),n("Mode",{staticClass:"w-full md:max-w-screen-md",attrs:{mode:t.currentMode,secondsLeft:t.secondsLeft,session:t.currentSession,totalSessions:t.totalSessions},on:{reset:t.reset}}),n("div",{staticClass:"w-1/6 py-4 content-end"},[n("button",{staticClass:"pr-4",on:{click:t.toggleDarkMode}},[n("icon",{attrs:{icon:t.dark?"sun":"moon"}})],1),n("a",{attrs:{target:"_blank",href:"https://egocv.com/write-dash-app.html"}},[n("icon",{attrs:{icon:"question-circle"}})],1)])],1),n("Editor",{staticClass:"filter flex-grow overflow-auto",style:t.editorStyle,on:{wc:t.updateWordCount},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("div",{staticClass:"\n        mx-auto\n        w-full\n        md:max-w-screen-md\n        flex\n        items-end\n        justify-between\n        p-4\n      "},[n("div",{staticClass:"text-blue-300 dark:text-gray-700 text-sm"},[t._v("v0.1 Beta")]),n("div",{staticClass:"font-bold"},[t._v(t._s(t.wc)+" words")]),t._m(0)])],1)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-blue-300 dark:text-gray-700 text-sm"},[n("a",{attrs:{href:"https://twitter.com/egocv"}},[t._v("contact @egocv")])])}],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-content",{staticClass:"mx-auto border-0 m-10 w-full md:max-w-screen-md",attrs:{editor:t.editor}})},u=[],l=n("1ab4"),f=n("672a"),h=n("6a8e"),p=n("795d"),m=(n("ac1f"),n("1276"),n("498a"),n("9980")),b=m["b"].create({name:"wordCount",addCommands:function(){return{getWordCount:function(){return function(t){var e=t.state,n=0;return e.doc.descendants((function(t){t.isLeaf&&(n+=t.textContent.trim().split(/\s+/).length)})),n}}}}}),g=b,v={name:"Editor",components:{EditorContent:l["b"]},data:function(){return{editor:null}},props:{value:{type:String,default:""}},watch:{value:function(t){this.editor.getHTML()!==t&&this.editor.commands.setContent(this.value,!1)}},methods:{onEditorUpdate:function(){var t=this.editor.getHTML();this.$emit("input",t),this.$emit("wc",this.editor.commands.getWordCount())},focusEditor:function(){this.editor.commands.focus("end")}},mounted:function(){var t="Your session will begin once you start writing!\nEach session will be 5 minutes of writing followed by a 2 minute break\n\nDon't pause for too long during a sprint, or your words will fade and be GONE FOREVER.\n\nF11 to open full screen, ctrl-b for bold, ctrl-i for italics, mardown headers, etc.";this.editor=new l["a"]({extensions:[f["a"],h["a"],p["a"].configure({placeholder:t}),g],content:this.value,onUpdate:this.onEditorUpdate,onCreate:this.focusEditor,autofocus:"start"}),setTimeout(this.focusEditor,2e3)},beforeDestroy:function(){this.editor.destroy()}},w=v,E=(n("8164"),n("2877")),y=Object(E["a"])(w,d,u,!1,null,null,null),x=y.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded flex justify-between",class:t.colours},[n("div",{staticClass:"p-4"},[n("span",{staticClass:"font-bold"},[t._v(t._s(t.modeName))]),t.started?n("span",[t._v(" - "+t._s(t.timeLeft))]):t._e()]),t.ended?n("button",{staticClass:"shadow-xl p-4 bg-green-100 text-green-800 rounded-r",on:{click:t.reset}},[t._v(" Restart ")]):n("span",{staticClass:"p-4"},[t._v("Session "+t._s(t.session)+"/"+t._s(t.totalSessions))])])},C=[],O=n("ade3"),S=(n("a9e3"),{READY:0,WRITING:1,EDITING:2,DIED:3,COMPLETE:4}),D={name:"Mode",props:{mode:{type:Number},secondsLeft:{type:Number},session:{type:Number},totalSessions:{type:Number}},methods:{reset:function(){this.$emit("reset")}},computed:{modeName:function(){var t,e=(t={},Object(O["a"])(t,S.READY,"Get ready..."),Object(O["a"])(t,S.WRITING,"SPRINT!"),Object(O["a"])(t,S.EDITING,"Pause, edit, relax"),Object(O["a"])(t,S.DIED,"What happened? Wh-where is my chapter??"),Object(O["a"])(t,S.COMPLETE,"All done!"),t);return e[this.mode]},colours:function(){var t,e=(t={},Object(O["a"])(t,S.READY,"bg-blue-700 text-blue-100"),Object(O["a"])(t,S.WRITING,"text-red-100 bg-red-700"),Object(O["a"])(t,S.EDITING,"bg-green-700 text-green-100"),Object(O["a"])(t,S.DIED,"text-gray-50 bg-black"),Object(O["a"])(t,S.COMPLETE,"bg-green-700 text-green-100"),t);return e[this.mode]},timeLeft:function(){return new Date(1e3*this.secondsLeft).toISOString().substr(14,5)},started:function(){return this.mode===S.WRITING||this.mode===S.EDITING},ended:function(){return this.mode===S.DIED||this.mode===S.COMPLETE}}},L=D,T=Object(E["a"])(L,I,C,!1,null,null,null),_=T.exports,M={name:"App",components:{Editor:x,Mode:_},data:function(){return{content:"<p></p>",wc:0,dark:!1,sessionStart:0,state:"",timePassed:null,sprintLength:180,pauseLength:60,totalSessions:2,blurAfter:4,deleteAfter:8,lastEdit:0}},created:function(){var t=this;setInterval((function(){t.setTimePassed()}),100)},computed:{secondsPassed:function(){return Math.floor(this.timePassed/1e3)},sessionLength:function(){return this.sprintLength+this.pauseLength},currentSession:function(){return Math.ceil(this.secondsPassed/this.sessionLength)||1},currentMode:function(){return"died"===this.state?S.DIED:"complete"===this.state?S.COMPLETE:this.sessionStart?this.secondsPassed%this.sessionLength<=this.sprintLength?S.WRITING:S.EDITING:S.READY},started:function(){return this.currentMode===S.WRITING||this.currentMode===S.EDITING},secondsLeft:function(){var t=this.secondsPassed%this.sessionLength;return this.currentMode===S.WRITING?this.sprintLength-t:this.sessionLength-t},editorStyle:function(){if(this.currentMode===S.WRITING){var t=(Date.now()-this.lastEdit)/1e3,e=7;if(t>this.blurAfter){var n=(t-this.blurAfter)/(this.deleteAfter-this.blurAfter);return"--tw-blur: blur(".concat(e*n,"px)")}}return""}},methods:{toggleDarkMode:function(){this.dark=!this.dark},reset:function(){this.sessionStart=0,this.state=""},startSession:function(){this.sessionStart=Date.now(),this.state="running"},setTimePassed:function(){this.started&&(this.timePassed=Date.now()-this.sessionStart),this.timePassed/1e3>this.totalSessions*this.sessionLength-this.pauseLength&&(this.state="complete");var t=this.getSecondsSinceLastEdit();t>this.deleteAfter&&this.delete()},getSecondsSinceLastEdit:function(){return this.currentMode===S.WRITING?(Date.now()-this.lastEdit)/1e3:0},delete:function(){this.content="<p></p>",this.state="died"},modeChanged:function(){this.lastEdit=Date.now()},updateWordCount:function(t){this.wc=t}},watch:{currentMode:function(t,e){this.modeChanged(t,e)},content:function(){0===this.sessionStart&&this.startSession(),this.lastEdit=Date.now()}}},j=M,P=Object(E["a"])(j,a,c,!1,null,null,null),N=P.exports;o["c"].add(r["c"],r["a"],r["b"]),s["a"].component("icon",i["a"]),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(N)}}).$mount("#app")},"5bf9":function(t,e,n){},8164:function(t,e,n){"use strict";n("5bf9")},ba8c:function(t,e,n){}});
//# sourceMappingURL=app.ed4490ad.js.map