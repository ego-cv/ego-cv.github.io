(function(t){function e(e){for(var s,i,a=e[0],c=e[1],u=e[2],l=0,f=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/write-dash/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.dark?"dark":"",attrs:{id:"app"}},[n("div",{staticClass:"\n      h-screen\n      bg-white\n      dark:bg-gray-800\n      text-gray-800\n      dark:text-gray-100\n      p-10\n      flex flex-col\n    "},[n("div",{staticClass:"flex justify-between gap-4 w-full"},[n("p",{staticClass:"p-2 w-1/6"}),n("Mode",{staticClass:"w-1/2",attrs:{mode:t.currentMode,secondsLeft:t.secondsLeft,session:t.currentSession,totalSessions:t.totalSessions}}),n("button",{staticClass:"w-1/6 p-2 content-end",on:{click:t.toggleDarkMode}},[t._v(" "+t._s(t.dark?"ðŸŒž":"ðŸŒ™")+" ")])],1),n("Editor",{staticClass:"filter flex-grow overflow-auto",style:t.editorStyle,on:{wc:t.updateWordCount},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("div",{staticClass:"mx-auto w-1/2 flex items-end justify-between p-4"},[n("div",{staticClass:"text-blue-300 dark:text-gray-700 text-sm"},[t._v("v0.1 Beta")]),n("div",{staticClass:"font-bold"},[t._v(t._s(t.wc)+" words")]),t._m(0)])],1)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-blue-300 dark:text-gray-700 text-sm"},[n("a",{attrs:{href:"https://twitter.com/egocv"}},[t._v("contact @egocv")])])}],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-content",{staticClass:"mx-auto border-0 m-10 w-full md:w-1/2",attrs:{editor:t.editor}})},a=[],c=n("1ab4"),u=n("672a"),d=n("6a8e"),l=n("795d"),f=(n("ac1f"),n("1276"),n("498a"),n("9980")),h=f["b"].create({name:"wordCount",addCommands:function(){return{getWordCount:function(){return function(t){var e=t.state,n=0;return e.doc.descendants((function(t){t.isLeaf&&(n+=t.textContent.trim().split(/\s+/).length)})),n}}}}}),p=h,b={name:"Editor",components:{EditorContent:c["b"]},data:function(){return{editor:null}},props:{value:{type:String,default:""}},watch:{value:function(t){this.editor.getHTML()!==t&&this.editor.commands.setContent(this.value,!1)}},methods:{onEditorUpdate:function(){var t=this.editor.getHTML();this.$emit("input",t),this.$emit("wc",this.editor.commands.getWordCount())}},mounted:function(){var t="Your session will begin once you start writing!\nEach session will be 5 minutes of writing followed by a 2 minute break\n\nDon't pause for too long during a sprint, or your words will fade and be GONE FOREVER.\n\nF11 to open full screen, ctrl-b for bold, ctrl-i for italics, mardown headers, etc.";this.editor=new c["a"]({extensions:[u["a"],d["a"],l["a"].configure({placeholder:t}),p],content:this.value,onUpdate:this.onEditorUpdate})},beforeDestroy:function(){this.editor.destroy()}},m=b,g=(n("8164"),n("2877")),v=Object(g["a"])(m,i,a,!1,null,null,null),w=v.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-4 rounded flex justify-between",class:t.colours},[n("div",[n("span",{staticClass:"font-bold"},[t._v(t._s(t.modeName))]),t.started?n("span",[t._v(" - "+t._s(t.timeLeft))]):t._e()]),n("span",[t._v("Session "+t._s(t.session)+"/"+t._s(t.totalSessions))])])},S=[],E=n("ade3"),x=(n("a9e3"),{STOPPED:0,WRITING:1,EDITING:2,DIED:3}),D={name:"Mode",props:{mode:{type:Number},secondsLeft:{type:Number},session:{type:Number},totalSessions:{type:Number}},computed:{modeName:function(){var t,e=(t={},Object(E["a"])(t,x.STOPPED,"Get ready..."),Object(E["a"])(t,x.WRITING,"SPRINT!"),Object(E["a"])(t,x.EDITING,"Pause, edit, relax"),Object(E["a"])(t,x.DIED,"What happened? Wh-where is my chapter??"),t);return e[this.mode]},colours:function(){var t,e=(t={},Object(E["a"])(t,x.STOPPED,"bg-blue-700 text-blue-100"),Object(E["a"])(t,x.WRITING,"text-red-100 bg-red-700"),Object(E["a"])(t,x.EDITING,"bg-green-700 text-green-100"),Object(E["a"])(t,x.DIED,"text-gray-50 bg-black"),t);return e[this.mode]},timeLeft:function(){return new Date(1e3*this.secondsLeft).toISOString().substr(14,5)},started:function(){return this.mode!==x.STOPPED&&this.mode!==x.DIED}}},I=D,O=Object(g["a"])(I,y,S,!1,null,null,null),P=O.exports,_={name:"App",components:{Editor:w,Mode:P},data:function(){return{content:"<p></p>",wc:0,dark:!1,sessionStart:0,died:!1,timePassed:null,sprintLength:300,pauseLength:120,totalSessions:3,blurAfter:4,deleteAfter:8,lastEdit:0}},created:function(){var t=this;setInterval((function(){t.setTimePassed()}),100)},computed:{secondsPassed:function(){return Math.floor(this.timePassed/1e3)},sessionLength:function(){return this.sprintLength+this.pauseLength},currentSession:function(){return Math.ceil(this.secondsPassed/this.sessionLength)||1},currentMode:function(){return this.died?x.DIED:this.sessionStart?this.secondsPassed%this.sessionLength<=this.sprintLength?x.WRITING:x.EDITING:x.STOPPED},started:function(){return this.currentMode!==x.STOPPED&&this.currentMode!==x.DIED},secondsLeft:function(){var t=this.secondsPassed%this.sessionLength;return this.currentMode===x.WRITING?this.sprintLength-t:this.sessionLength-t},editorStyle:function(){if(this.currentMode===x.WRITING){var t=(Date.now()-this.lastEdit)/1e3,e=7;if(t>this.blurAfter){var n=(t-this.blurAfter)/(this.deleteAfter-this.blurAfter);return"--tw-blur: blur(".concat(e*n,"px)")}}return""}},methods:{toggleDarkMode:function(){this.dark=!this.dark},startSession:function(){this.sessionStart=Date.now(),this.died=!1},setTimePassed:function(){this.started&&(this.timePassed=Date.now()-this.sessionStart),this.timePassed/1e3>this.totalSessions*this.sessionLength&&this.finish();var t=this.getSecondsSinceLastEdit();t>this.deleteAfter&&this.delete()},getSecondsSinceLastEdit:function(){return this.currentMode===x.WRITING?(Date.now()-this.lastEdit)/1e3:0},finish:function(){this.sessionStart=0},delete:function(){this.content="<p></p>",this.died=!0,this.$nextTick(this.finish)},modeChanged:function(){console.log("mode changed"),this.lastEdit=Date.now()},updateWordCount:function(t){this.wc=t}},watch:{currentMode:function(t,e){this.modeChanged(t,e)},content:function(){0===this.sessionStart&&this.startSession(),this.lastEdit=Date.now()}}},T=_,C=Object(g["a"])(T,o,r,!1,null,null,null),L=C.exports;n("ba8c");s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(L)}}).$mount("#app")},"5bf9":function(t,e,n){},8164:function(t,e,n){"use strict";n("5bf9")},ba8c:function(t,e,n){}});
//# sourceMappingURL=app.d153c4ba.js.map